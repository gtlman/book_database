# <center>常见问题</center>
## 高并发环境下的操作
案例1：web应用，该如何处理用户重复提交表单。
1. 建立唯一索引
2. 通过消息队列中间件，实现异步，串行写入？
3. 通过redis等缓存数据库实现分布式锁
案例2：web应用，该如何处理类似秒杀这类高并发的操作


## 如何排查慢查询
1. 通过开启slow_query_log_file日志文件可以查看耗时以及没有使用索引的SQL命令。
2. 通过在要执行的SQL命令前加关键子explain可以查看该SQL的执行计划。（大部分的慢查询都是因为索引的问题）
3. 通过优化业务代码。（这个我暂时没体会）


## 为何用户表中不适用身份证做主键，要自定义一个ID列做主键
业务主键：业务相关且具有唯一性的键做主键
逻辑主键：业务无关且不重复的键做主键
1. 首先主键必须具有唯一性，业务主键可能因为人为错误不能保证唯一性
2. 其次主键不应修改，因为主键往往是关联表的外键，修改主键需要同步修改关联表的外键。业务主键是无法保证的，即使是我国身份证也有过升级的情况。
因此我的建议是尽量使用逻辑主键

## 逻辑主键是使用自增ID列还是UUID呢？
1. 从性能的角度，MySQL INNODB底层使用B+Tree，自增ID在插入B+Tree的性能是最好的，而且因为ID是INT/BIGINT类型，查询的效率也是较高的
2. 但是自增ID有个问题，就是在合并表的时候，会出现ID列冲突问题，而UUID能避免这个问题
